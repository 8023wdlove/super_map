import{a as J0}from"./chunk-6S43R6PL.js";import{a as Q0}from"./chunk-TW5GUTQO.js";import{a as v0}from"./chunk-CB3KB2D3.js";import{a as S}from"./chunk-I46SWINN.js";import{a as u}from"./chunk-LNIYJJXS.js";import{a as A}from"./chunk-4D2ERGZX.js";import{a as f}from"./chunk-EDZQSM3T.js";import{a as D0}from"./chunk-PJGSCWXZ.js";import{a}from"./chunk-NUC3LT2W.js";function O(n,o,c,v,e,p,b,w,d){this[0]=A(n,0),this[1]=A(v,0),this[2]=A(b,0),this[3]=A(o,0),this[4]=A(e,0),this[5]=A(w,0),this[6]=A(c,0),this[7]=A(p,0),this[8]=A(d,0)}O.packedLength=9;O.pack=function(n,o,c){return f.typeOf.object("value",n),f.defined("array",o),c=A(c,0),o[c++]=n[0],o[c++]=n[1],o[c++]=n[2],o[c++]=n[3],o[c++]=n[4],o[c++]=n[5],o[c++]=n[6],o[c++]=n[7],o[c++]=n[8],o};O.unpack=function(n,o,c){return f.defined("array",n),o=A(o,0),a(c)||(c=new O),c[0]=n[o++],c[1]=n[o++],c[2]=n[o++],c[3]=n[o++],c[4]=n[o++],c[5]=n[o++],c[6]=n[o++],c[7]=n[o++],c[8]=n[o++],c};O.clone=function(n,o){if(!!a(n))return a(o)?(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o):new O(n[0],n[3],n[6],n[1],n[4],n[7],n[2],n[5],n[8])};O.fromArray=function(n,o,c){return f.defined("array",n),o=A(o,0),a(c)||(c=new O),c[0]=n[o],c[1]=n[o+1],c[2]=n[o+2],c[3]=n[o+3],c[4]=n[o+4],c[5]=n[o+5],c[6]=n[o+6],c[7]=n[o+7],c[8]=n[o+8],c};O.fromColumnMajorArray=function(n,o){return f.defined("values",n),O.clone(n,o)};O.fromRowMajorArray=function(n,o){return f.defined("values",n),a(o)?(o[0]=n[0],o[1]=n[3],o[2]=n[6],o[3]=n[1],o[4]=n[4],o[5]=n[7],o[6]=n[2],o[7]=n[5],o[8]=n[8],o):new O(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])};O.fromQuaternion=function(n,o){f.typeOf.object("quaternion",n);var c=n.x*n.x,v=n.x*n.y,e=n.x*n.z,p=n.x*n.w,b=n.y*n.y,w=n.y*n.z,d=n.y*n.w,j=n.z*n.z,R=n.z*n.w,M=n.w*n.w,E=c-b-j+M,C=2*(v-R),h=2*(e+d),z=2*(v+R),T=-c+b-j+M,F=2*(w-p),W=2*(e-d),N=2*(w+p),m=-c-b+j+M;return a(o)?(o[0]=E,o[1]=z,o[2]=W,o[3]=C,o[4]=T,o[5]=N,o[6]=h,o[7]=F,o[8]=m,o):new O(E,C,h,z,T,F,W,N,m)};O.fromHeadingPitchRoll=function(n,o){f.typeOf.object("headingPitchRoll",n);var c=Math.cos(-n.pitch),v=Math.cos(-n.heading),e=Math.cos(n.roll),p=Math.sin(-n.pitch),b=Math.sin(-n.heading),w=Math.sin(n.roll),d=c*v,j=-e*b+w*p*v,R=w*b+e*p*v,M=c*b,E=e*v+w*p*b,C=-w*v+e*p*b,h=-p,z=w*c,T=e*c;return a(o)?(o[0]=d,o[1]=M,o[2]=h,o[3]=j,o[4]=E,o[5]=z,o[6]=R,o[7]=C,o[8]=T,o):new O(d,j,R,M,E,C,h,z,T)};O.fromScale=function(n,o){return f.typeOf.object("scale",n),a(o)?(o[0]=n.x,o[1]=0,o[2]=0,o[3]=0,o[4]=n.y,o[5]=0,o[6]=0,o[7]=0,o[8]=n.z,o):new O(n.x,0,0,0,n.y,0,0,0,n.z)};O.fromUniformScale=function(n,o){return f.typeOf.number("scale",n),a(o)?(o[0]=n,o[1]=0,o[2]=0,o[3]=0,o[4]=n,o[5]=0,o[6]=0,o[7]=0,o[8]=n,o):new O(n,0,0,0,n,0,0,0,n)};O.fromCrossProduct=function(n,o){return f.typeOf.object("vector",n),a(o)?(o[0]=0,o[1]=n.z,o[2]=-n.y,o[3]=-n.z,o[4]=0,o[5]=n.x,o[6]=n.y,o[7]=-n.x,o[8]=0,o):new O(0,-n.z,n.y,n.z,0,-n.x,-n.y,n.x,0)};O.fromRotationX=function(n,o){f.typeOf.number("angle",n);var c=Math.cos(n),v=Math.sin(n);return a(o)?(o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=c,o[5]=v,o[6]=0,o[7]=-v,o[8]=c,o):new O(1,0,0,0,c,-v,0,v,c)};O.fromRotationY=function(n,o){f.typeOf.number("angle",n);var c=Math.cos(n),v=Math.sin(n);return a(o)?(o[0]=c,o[1]=0,o[2]=-v,o[3]=0,o[4]=1,o[5]=0,o[6]=v,o[7]=0,o[8]=c,o):new O(c,0,v,0,1,0,-v,0,c)};O.fromRotationZ=function(n,o){f.typeOf.number("angle",n);var c=Math.cos(n),v=Math.sin(n);return a(o)?(o[0]=c,o[1]=v,o[2]=0,o[3]=-v,o[4]=c,o[5]=0,o[6]=0,o[7]=0,o[8]=1,o):new O(c,-v,0,v,c,0,0,0,1)};O.toArray=function(n,o){return f.typeOf.object("matrix",n),a(o)?(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o):[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8]]};O.getElementIndex=function(n,o){return f.typeOf.number.greaterThanOrEquals("row",o,0),f.typeOf.number.lessThanOrEquals("row",o,2),f.typeOf.number.greaterThanOrEquals("column",n,0),f.typeOf.number.lessThanOrEquals("column",n,2),n*3+o};O.getColumn=function(n,o,c){f.typeOf.object("matrix",n),f.typeOf.number.greaterThanOrEquals("index",o,0),f.typeOf.number.lessThanOrEquals("index",o,2),f.typeOf.object("result",c);var v=o*3,e=n[v],p=n[v+1],b=n[v+2];return c.x=e,c.y=p,c.z=b,c};O.setColumn=function(n,o,c,v){f.typeOf.object("matrix",n),f.typeOf.number.greaterThanOrEquals("index",o,0),f.typeOf.number.lessThanOrEquals("index",o,2),f.typeOf.object("cartesian",c),f.typeOf.object("result",v),v=O.clone(n,v);var e=o*3;return v[e]=c.x,v[e+1]=c.y,v[e+2]=c.z,v};O.getRow=function(n,o,c){f.typeOf.object("matrix",n),f.typeOf.number.greaterThanOrEquals("index",o,0),f.typeOf.number.lessThanOrEquals("index",o,2),f.typeOf.object("result",c);var v=n[o],e=n[o+3],p=n[o+6];return c.x=v,c.y=e,c.z=p,c};O.setRow=function(n,o,c,v){return f.typeOf.object("matrix",n),f.typeOf.number.greaterThanOrEquals("index",o,0),f.typeOf.number.lessThanOrEquals("index",o,2),f.typeOf.object("cartesian",c),f.typeOf.object("result",v),v=O.clone(n,v),v[o]=c.x,v[o+3]=c.y,v[o+6]=c.z,v};var m0=new S;O.getScale=function(n,o){return f.typeOf.object("matrix",n),f.typeOf.object("result",o),o.x=S.magnitude(S.fromElements(n[0],n[1],n[2],m0)),o.y=S.magnitude(S.fromElements(n[3],n[4],n[5],m0)),o.z=S.magnitude(S.fromElements(n[6],n[7],n[8],m0)),o};var O0=new S;O.getMaximumScale=function(n){return O.getScale(n,O0),S.maximumComponent(O0)};O.multiply=function(n,o,c){f.typeOf.object("left",n),f.typeOf.object("right",o),f.typeOf.object("result",c);var v=n[0]*o[0]+n[3]*o[1]+n[6]*o[2],e=n[1]*o[0]+n[4]*o[1]+n[7]*o[2],p=n[2]*o[0]+n[5]*o[1]+n[8]*o[2],b=n[0]*o[3]+n[3]*o[4]+n[6]*o[5],w=n[1]*o[3]+n[4]*o[4]+n[7]*o[5],d=n[2]*o[3]+n[5]*o[4]+n[8]*o[5],j=n[0]*o[6]+n[3]*o[7]+n[6]*o[8],R=n[1]*o[6]+n[4]*o[7]+n[7]*o[8],M=n[2]*o[6]+n[5]*o[7]+n[8]*o[8];return c[0]=v,c[1]=e,c[2]=p,c[3]=b,c[4]=w,c[5]=d,c[6]=j,c[7]=R,c[8]=M,c};O.add=function(n,o,c){return f.typeOf.object("left",n),f.typeOf.object("right",o),f.typeOf.object("result",c),c[0]=n[0]+o[0],c[1]=n[1]+o[1],c[2]=n[2]+o[2],c[3]=n[3]+o[3],c[4]=n[4]+o[4],c[5]=n[5]+o[5],c[6]=n[6]+o[6],c[7]=n[7]+o[7],c[8]=n[8]+o[8],c};O.subtract=function(n,o,c){return f.typeOf.object("left",n),f.typeOf.object("right",o),f.typeOf.object("result",c),c[0]=n[0]-o[0],c[1]=n[1]-o[1],c[2]=n[2]-o[2],c[3]=n[3]-o[3],c[4]=n[4]-o[4],c[5]=n[5]-o[5],c[6]=n[6]-o[6],c[7]=n[7]-o[7],c[8]=n[8]-o[8],c};O.multiplyByVector=function(n,o,c){f.typeOf.object("matrix",n),f.typeOf.object("cartesian",o),f.typeOf.object("result",c);var v=o.x,e=o.y,p=o.z,b=n[0]*v+n[3]*e+n[6]*p,w=n[1]*v+n[4]*e+n[7]*p,d=n[2]*v+n[5]*e+n[8]*p;return c.x=b,c.y=w,c.z=d,c};O.multiplyByScalar=function(n,o,c){return f.typeOf.object("matrix",n),f.typeOf.number("scalar",o),f.typeOf.object("result",c),c[0]=n[0]*o,c[1]=n[1]*o,c[2]=n[2]*o,c[3]=n[3]*o,c[4]=n[4]*o,c[5]=n[5]*o,c[6]=n[6]*o,c[7]=n[7]*o,c[8]=n[8]*o,c};O.multiplyByScale=function(n,o,c){return f.typeOf.object("matrix",n),f.typeOf.object("scale",o),f.typeOf.object("result",c),c[0]=n[0]*o.x,c[1]=n[1]*o.x,c[2]=n[2]*o.x,c[3]=n[3]*o.y,c[4]=n[4]*o.y,c[5]=n[5]*o.y,c[6]=n[6]*o.z,c[7]=n[7]*o.z,c[8]=n[8]*o.z,c};O.negate=function(n,o){return f.typeOf.object("matrix",n),f.typeOf.object("result",o),o[0]=-n[0],o[1]=-n[1],o[2]=-n[2],o[3]=-n[3],o[4]=-n[4],o[5]=-n[5],o[6]=-n[6],o[7]=-n[7],o[8]=-n[8],o};O.transpose=function(n,o){f.typeOf.object("matrix",n),f.typeOf.object("result",o);var c=n[0],v=n[3],e=n[6],p=n[1],b=n[4],w=n[7],d=n[2],j=n[5],R=n[8];return o[0]=c,o[1]=v,o[2]=e,o[3]=p,o[4]=b,o[5]=w,o[6]=d,o[7]=j,o[8]=R,o};var vn=new S(1,1,1);O.getRotation=function(n,o){f.typeOf.object("matrix",n),f.typeOf.object("result",o);var c=S.divideComponents(vn,O.getScale(n,O0),O0);return o=O.multiplyByScale(n,c,o),o};function fn(n){for(var o=0,c=0;c<9;++c){var v=n[c];o+=v*v}return Math.sqrt(o)}var U0=[1,0,0],q0=[2,2,1];function en(n){for(var o=0,c=0;c<3;++c){var v=n[O.getElementIndex(q0[c],U0[c])];o+=2*v*v}return Math.sqrt(o)}function pn(n,o){for(var c=u.EPSILON15,v=0,e=1,p=0;p<3;++p){var b=Math.abs(n[O.getElementIndex(q0[p],U0[p])]);b>v&&(e=p,v=b)}var w=1,d=0,j=U0[e],R=q0[e];if(Math.abs(n[O.getElementIndex(R,j)])>c){var M=n[O.getElementIndex(R,R)],E=n[O.getElementIndex(j,j)],C=n[O.getElementIndex(R,j)],h=(M-E)/2/C,z;h<0?z=-1/(-h+Math.sqrt(1+h*h)):z=1/(h+Math.sqrt(1+h*h)),w=1/Math.sqrt(1+z*z),d=z*w}return o=O.clone(O.IDENTITY,o),o[O.getElementIndex(j,j)]=o[O.getElementIndex(R,R)]=w,o[O.getElementIndex(R,j)]=d,o[O.getElementIndex(j,R)]=-d,o}var y0=new O,_0=new O;O.computeEigenDecomposition=function(n,o){f.typeOf.object("matrix",n);var c=u.EPSILON20,v=10,e=0,p=0;a(o)||(o={});for(var b=o.unitary=O.clone(O.IDENTITY,o.unitary),w=o.diagonal=O.clone(n,o.diagonal),d=c*fn(w);p<v&&en(w)>d;)pn(w,y0),O.transpose(y0,_0),O.multiply(w,y0,w),O.multiply(_0,w,w),O.multiply(b,y0,b),++e>2&&(++p,e=0);return o};O.abs=function(n,o){return f.typeOf.object("matrix",n),f.typeOf.object("result",o),o[0]=Math.abs(n[0]),o[1]=Math.abs(n[1]),o[2]=Math.abs(n[2]),o[3]=Math.abs(n[3]),o[4]=Math.abs(n[4]),o[5]=Math.abs(n[5]),o[6]=Math.abs(n[6]),o[7]=Math.abs(n[7]),o[8]=Math.abs(n[8]),o};O.determinant=function(n){f.typeOf.object("matrix",n);var o=n[0],c=n[3],v=n[6],e=n[1],p=n[4],b=n[7],w=n[2],d=n[5],j=n[8];return o*(p*j-d*b)+e*(d*v-c*j)+w*(c*b-p*v)};O.inverse=function(n,o){f.typeOf.object("matrix",n),f.typeOf.object("result",o);var c=n[0],v=n[1],e=n[2],p=n[3],b=n[4],w=n[5],d=n[6],j=n[7],R=n[8],M=O.determinant(n);if(Math.abs(M)<=u.EPSILON15)throw new D0("matrix is not invertible");o[0]=b*R-j*w,o[1]=j*e-v*R,o[2]=v*w-b*e,o[3]=d*w-p*R,o[4]=c*R-d*e,o[5]=p*e-c*w,o[6]=p*j-d*b,o[7]=d*v-c*j,o[8]=c*b-p*v;var E=1/M;return O.multiplyByScalar(o,E,o)};O.equals=function(n,o){return n===o||a(n)&&a(o)&&n[0]===o[0]&&n[1]===o[1]&&n[2]===o[2]&&n[3]===o[3]&&n[4]===o[4]&&n[5]===o[5]&&n[6]===o[6]&&n[7]===o[7]&&n[8]===o[8]};O.equalsEpsilon=function(n,o,c){return f.typeOf.number("epsilon",c),n===o||a(n)&&a(o)&&Math.abs(n[0]-o[0])<=c&&Math.abs(n[1]-o[1])<=c&&Math.abs(n[2]-o[2])<=c&&Math.abs(n[3]-o[3])<=c&&Math.abs(n[4]-o[4])<=c&&Math.abs(n[5]-o[5])<=c&&Math.abs(n[6]-o[6])<=c&&Math.abs(n[7]-o[7])<=c&&Math.abs(n[8]-o[8])<=c};O.IDENTITY=Object.freeze(new O(1,0,0,0,1,0,0,0,1));O.ZERO=Object.freeze(new O(0,0,0,0,0,0,0,0,0));O.COLUMN0ROW0=0;O.COLUMN0ROW1=1;O.COLUMN0ROW2=2;O.COLUMN1ROW0=3;O.COLUMN1ROW1=4;O.COLUMN1ROW2=5;O.COLUMN2ROW0=6;O.COLUMN2ROW1=7;O.COLUMN2ROW2=8;Object.defineProperties(O.prototype,{length:{get:function(){return O.packedLength}}});O.prototype.clone=function(n){return O.clone(this,n)};O.prototype.equals=function(n){return O.equals(this,n)};O.equalsArray=function(n,o,c){return n[0]===o[c]&&n[1]===o[c+1]&&n[2]===o[c+2]&&n[3]===o[c+3]&&n[4]===o[c+4]&&n[5]===o[c+5]&&n[6]===o[c+6]&&n[7]===o[c+7]&&n[8]===o[c+8]};O.prototype.equalsEpsilon=function(n,o){return O.equalsEpsilon(this,n,o)};O.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+`)
(`+this[1]+", "+this[4]+", "+this[7]+`)
(`+this[2]+", "+this[5]+", "+this[8]+")"};var f0=O;function y(n,o,c,v,e,p,b,w,d,j,R,M,E,C,h,z){this[0]=A(n,0),this[1]=A(e,0),this[2]=A(d,0),this[3]=A(E,0),this[4]=A(o,0),this[5]=A(p,0),this[6]=A(j,0),this[7]=A(C,0),this[8]=A(c,0),this[9]=A(b,0),this[10]=A(R,0),this[11]=A(h,0),this[12]=A(v,0),this[13]=A(w,0),this[14]=A(M,0),this[15]=A(z,0)}y.packedLength=16;y.pack=function(n,o,c){return f.typeOf.object("value",n),f.defined("array",o),c=A(c,0),o[c++]=n[0],o[c++]=n[1],o[c++]=n[2],o[c++]=n[3],o[c++]=n[4],o[c++]=n[5],o[c++]=n[6],o[c++]=n[7],o[c++]=n[8],o[c++]=n[9],o[c++]=n[10],o[c++]=n[11],o[c++]=n[12],o[c++]=n[13],o[c++]=n[14],o[c]=n[15],o};y.unpack=function(n,o,c){return f.defined("array",n),o=A(o,0),a(c)||(c=new y),c[0]=n[o++],c[1]=n[o++],c[2]=n[o++],c[3]=n[o++],c[4]=n[o++],c[5]=n[o++],c[6]=n[o++],c[7]=n[o++],c[8]=n[o++],c[9]=n[o++],c[10]=n[o++],c[11]=n[o++],c[12]=n[o++],c[13]=n[o++],c[14]=n[o++],c[15]=n[o],c};y.clone=function(n,o){if(!!a(n))return a(o)?(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o):new y(n[0],n[4],n[8],n[12],n[1],n[5],n[9],n[13],n[2],n[6],n[10],n[14],n[3],n[7],n[11],n[15])};y.fromArray=y.unpack;y.fromColumnMajorArray=function(n,o){return f.defined("values",n),y.clone(n,o)};y.fromRowMajorArray=function(n,o){return f.defined("values",n),a(o)?(o[0]=n[0],o[1]=n[4],o[2]=n[8],o[3]=n[12],o[4]=n[1],o[5]=n[5],o[6]=n[9],o[7]=n[13],o[8]=n[2],o[9]=n[6],o[10]=n[10],o[11]=n[14],o[12]=n[3],o[13]=n[7],o[14]=n[11],o[15]=n[15],o):new y(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15])};y.fromRotationTranslation=function(n,o,c){return f.typeOf.object("rotation",n),o=A(o,S.ZERO),a(c)?(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=0,c[4]=n[3],c[5]=n[4],c[6]=n[5],c[7]=0,c[8]=n[6],c[9]=n[7],c[10]=n[8],c[11]=0,c[12]=o.x,c[13]=o.y,c[14]=o.z,c[15]=1,c):new y(n[0],n[3],n[6],o.x,n[1],n[4],n[7],o.y,n[2],n[5],n[8],o.z,0,0,0,1)};y.fromTranslationQuaternionRotationScale=function(n,o,c,v){f.typeOf.object("translation",n),f.typeOf.object("rotation",o),f.typeOf.object("scale",c),a(v)||(v=new y);var e=c.x,p=c.y,b=c.z,w=o.x*o.x,d=o.x*o.y,j=o.x*o.z,R=o.x*o.w,M=o.y*o.y,E=o.y*o.z,C=o.y*o.w,h=o.z*o.z,z=o.z*o.w,T=o.w*o.w,F=w-M-h+T,W=2*(d-z),N=2*(j+C),m=2*(d+z),q=-w+M-h+T,V=2*(E-R),L=2*(j-C),P=2*(E+R),B=-w-M+h+T;return v[0]=F*e,v[1]=m*e,v[2]=L*e,v[3]=0,v[4]=W*p,v[5]=q*p,v[6]=P*p,v[7]=0,v[8]=N*b,v[9]=V*b,v[10]=B*b,v[11]=0,v[12]=n.x,v[13]=n.y,v[14]=n.z,v[15]=1,v};y.fromTranslationRotationScale=function(n,o){return f.typeOf.object("translationRotationScale",n),y.fromTranslationQuaternionRotationScale(n.translation,n.rotation,n.scale,o)};y.fromTranslation=function(n,o){return f.typeOf.object("translation",n),y.fromRotationTranslation(f0.IDENTITY,n,o)};y.fromScale=function(n,o){return f.typeOf.object("scale",n),a(o)?(o[0]=n.x,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=n.y,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=n.z,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o):new y(n.x,0,0,0,0,n.y,0,0,0,0,n.z,0,0,0,0,1)};y.fromUniformScale=function(n,o){return f.typeOf.number("scale",n),a(o)?(o[0]=n,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=n,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=n,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o):new y(n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1)};var s=new S,t=new S,e0=new S;y.fromCamera=function(n,o){f.typeOf.object("camera",n);var c=n.position,v=n.direction,e=n.up;f.typeOf.object("camera.position",c),f.typeOf.object("camera.direction",v),f.typeOf.object("camera.up",e),S.normalize(v,s),S.normalize(S.cross(s,e,t),t),S.normalize(S.cross(t,s,e0),e0);var p=t.x,b=t.y,w=t.z,d=s.x,j=s.y,R=s.z,M=e0.x,E=e0.y,C=e0.z,h=c.x,z=c.y,T=c.z,F=p*-h+b*-z+w*-T,W=M*-h+E*-z+C*-T,N=d*h+j*z+R*T;return a(o)?(o[0]=p,o[1]=M,o[2]=-d,o[3]=0,o[4]=b,o[5]=E,o[6]=-j,o[7]=0,o[8]=w,o[9]=C,o[10]=-R,o[11]=0,o[12]=F,o[13]=W,o[14]=N,o[15]=1,o):new y(p,b,w,F,M,E,C,W,-d,-j,-R,N,0,0,0,1)};y.computePerspectiveFieldOfView=function(n,o,c,v,e){f.typeOf.number.greaterThan("fovY",n,0),f.typeOf.number.lessThan("fovY",n,Math.PI),f.typeOf.number.greaterThan("near",c,0),f.typeOf.number.greaterThan("far",v,0),f.typeOf.object("result",e);var p=Math.tan(n*.5),b=1/p,w=b/o,d=(v+c)/(c-v),j=2*v*c/(c-v);return e[0]=w,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=b,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=d,e[11]=-1,e[12]=0,e[13]=0,e[14]=j,e[15]=0,e};y.computeOrthographicOffCenter=function(n,o,c,v,e,p,b){f.typeOf.number("left",n),f.typeOf.number("right",o),f.typeOf.number("bottom",c),f.typeOf.number("top",v),f.typeOf.number("near",e),f.typeOf.number("far",p),f.typeOf.object("result",b);var w=1/(o-n),d=1/(v-c),j=1/(p-e),R=-(o+n)*w,M=-(v+c)*d,E=-(p+e)*j;return w*=2,d*=2,j*=-2,b[0]=w,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=d,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=j,b[11]=0,b[12]=R,b[13]=M,b[14]=E,b[15]=1,b};y.computePerspectiveOffCenter=function(n,o,c,v,e,p,b){f.typeOf.number("left",n),f.typeOf.number("right",o),f.typeOf.number("bottom",c),f.typeOf.number("top",v),f.typeOf.number("near",e),f.typeOf.number("far",p),f.typeOf.object("result",b);var w=2*e/(o-n),d=2*e/(v-c),j=(o+n)/(o-n),R=(v+c)/(v-c),M=-(p+e)/(p-e),E=-1,C=-2*p*e/(p-e);return b[0]=w,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=d,b[6]=0,b[7]=0,b[8]=j,b[9]=R,b[10]=M,b[11]=E,b[12]=0,b[13]=0,b[14]=C,b[15]=0,b};y.computeInfinitePerspectiveOffCenter=function(n,o,c,v,e,p){f.typeOf.number("left",n),f.typeOf.number("right",o),f.typeOf.number("bottom",c),f.typeOf.number("top",v),f.typeOf.number("near",e),f.typeOf.object("result",p);var b=2*e/(o-n),w=2*e/(v-c),d=(o+n)/(o-n),j=(v+c)/(v-c),R=-1,M=-1,E=-2*e;return p[0]=b,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=w,p[6]=0,p[7]=0,p[8]=d,p[9]=j,p[10]=R,p[11]=M,p[12]=0,p[13]=0,p[14]=E,p[15]=0,p};y.computeViewportTransformation=function(n,o,c,v){f.typeOf.object("result",v),n=A(n,A.EMPTY_OBJECT);var e=A(n.x,0),p=A(n.y,0),b=A(n.width,0),w=A(n.height,0);o=A(o,0),c=A(c,1);var d=b*.5,j=w*.5,R=(c-o)*.5,M=d,E=j,C=R,h=e+d,z=p+j,T=o+R,F=1;return v[0]=M,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=E,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=C,v[11]=0,v[12]=h,v[13]=z,v[14]=T,v[15]=F,v};y.computeView=function(n,o,c,v,e){return f.typeOf.object("position",n),f.typeOf.object("direction",o),f.typeOf.object("up",c),f.typeOf.object("right",v),f.typeOf.object("result",e),e[0]=v.x,e[1]=c.x,e[2]=-o.x,e[3]=0,e[4]=v.y,e[5]=c.y,e[6]=-o.y,e[7]=0,e[8]=v.z,e[9]=c.z,e[10]=-o.z,e[11]=0,e[12]=-S.dot(v,n),e[13]=-S.dot(c,n),e[14]=S.dot(o,n),e[15]=1,e};y.toArray=function(n,o){return f.typeOf.object("matrix",n),a(o)?(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o):[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]]};y.getElementIndex=function(n,o){return f.typeOf.number.greaterThanOrEquals("row",o,0),f.typeOf.number.lessThanOrEquals("row",o,3),f.typeOf.number.greaterThanOrEquals("column",n,0),f.typeOf.number.lessThanOrEquals("column",n,3),n*4+o};y.getColumn=function(n,o,c){f.typeOf.object("matrix",n),f.typeOf.number.greaterThanOrEquals("index",o,0),f.typeOf.number.lessThanOrEquals("index",o,3),f.typeOf.object("result",c);var v=o*4,e=n[v],p=n[v+1],b=n[v+2],w=n[v+3];return c.x=e,c.y=p,c.z=b,c.w=w,c};y.setColumn=function(n,o,c,v){f.typeOf.object("matrix",n),f.typeOf.number.greaterThanOrEquals("index",o,0),f.typeOf.number.lessThanOrEquals("index",o,3),f.typeOf.object("cartesian",c),f.typeOf.object("result",v),v=y.clone(n,v);var e=o*4;return v[e]=c.x,v[e+1]=c.y,v[e+2]=c.z,v[e+3]=c.w,v};y.setTranslation=function(n,o,c){return f.typeOf.object("matrix",n),f.typeOf.object("translation",o),f.typeOf.object("result",c),c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8],c[9]=n[9],c[10]=n[10],c[11]=n[11],c[12]=o.x,c[13]=o.y,c[14]=o.z,c[15]=n[15],c};var H0=new S;y.setScale=function(n,o,c){f.typeOf.object("matrix",n),f.typeOf.object("scale",o),f.typeOf.object("result",c);var v=y.getScale(n,H0),e=S.divideComponents(o,v,H0);return y.multiplyByScale(n,e,c)};y.getRow=function(n,o,c){f.typeOf.object("matrix",n),f.typeOf.number.greaterThanOrEquals("index",o,0),f.typeOf.number.lessThanOrEquals("index",o,3),f.typeOf.object("result",c);var v=n[o],e=n[o+4],p=n[o+8],b=n[o+12];return c.x=v,c.y=e,c.z=p,c.w=b,c};y.setRow=function(n,o,c,v){return f.typeOf.object("matrix",n),f.typeOf.number.greaterThanOrEquals("index",o,0),f.typeOf.number.lessThanOrEquals("index",o,3),f.typeOf.object("cartesian",c),f.typeOf.object("result",v),v=y.clone(n,v),v[o]=c.x,v[o+4]=c.y,v[o+8]=c.z,v[o+12]=c.w,v};var V0=new S;y.getScale=function(n,o){return f.typeOf.object("matrix",n),f.typeOf.object("result",o),o.x=S.magnitude(S.fromElements(n[0],n[1],n[2],V0)),o.y=S.magnitude(S.fromElements(n[4],n[5],n[6],V0)),o.z=S.magnitude(S.fromElements(n[8],n[9],n[10],V0)),o};var G0=new S;y.getMaximumScale=function(n){return y.getScale(n,G0),S.maximumComponent(G0)};y.multiply=function(n,o,c){f.typeOf.object("left",n),f.typeOf.object("right",o),f.typeOf.object("result",c);var v=n[0],e=n[1],p=n[2],b=n[3],w=n[4],d=n[5],j=n[6],R=n[7],M=n[8],E=n[9],C=n[10],h=n[11],z=n[12],T=n[13],F=n[14],W=n[15],N=o[0],m=o[1],q=o[2],V=o[3],L=o[4],P=o[5],B=o[6],Y=o[7],Z=o[8],X=o[9],D=o[10],_=o[11],H=o[12],G=o[13],K=o[14],I=o[15],l=v*N+w*m+M*q+z*V,n0=e*N+d*m+E*q+T*V,o0=p*N+j*m+C*q+F*V,c0=b*N+R*m+h*q+W*V,C0=v*L+w*P+M*B+z*Y,A0=e*L+d*P+E*B+T*Y,T0=p*L+j*P+C*B+F*Y,S0=b*L+R*P+h*B+W*Y,F0=v*Z+w*X+M*D+z*_,W0=e*Z+d*X+E*D+T*_,N0=p*Z+j*X+C*D+F*_,k=b*Z+R*X+h*D+W*_,l0=v*H+w*G+M*K+z*I,nn=e*H+d*G+E*K+T*I,on=p*H+j*G+C*K+F*I,cn=b*H+R*G+h*K+W*I;return c[0]=l,c[1]=n0,c[2]=o0,c[3]=c0,c[4]=C0,c[5]=A0,c[6]=T0,c[7]=S0,c[8]=F0,c[9]=W0,c[10]=N0,c[11]=k,c[12]=l0,c[13]=nn,c[14]=on,c[15]=cn,c};y.add=function(n,o,c){return f.typeOf.object("left",n),f.typeOf.object("right",o),f.typeOf.object("result",c),c[0]=n[0]+o[0],c[1]=n[1]+o[1],c[2]=n[2]+o[2],c[3]=n[3]+o[3],c[4]=n[4]+o[4],c[5]=n[5]+o[5],c[6]=n[6]+o[6],c[7]=n[7]+o[7],c[8]=n[8]+o[8],c[9]=n[9]+o[9],c[10]=n[10]+o[10],c[11]=n[11]+o[11],c[12]=n[12]+o[12],c[13]=n[13]+o[13],c[14]=n[14]+o[14],c[15]=n[15]+o[15],c};y.subtract=function(n,o,c){return f.typeOf.object("left",n),f.typeOf.object("right",o),f.typeOf.object("result",c),c[0]=n[0]-o[0],c[1]=n[1]-o[1],c[2]=n[2]-o[2],c[3]=n[3]-o[3],c[4]=n[4]-o[4],c[5]=n[5]-o[5],c[6]=n[6]-o[6],c[7]=n[7]-o[7],c[8]=n[8]-o[8],c[9]=n[9]-o[9],c[10]=n[10]-o[10],c[11]=n[11]-o[11],c[12]=n[12]-o[12],c[13]=n[13]-o[13],c[14]=n[14]-o[14],c[15]=n[15]-o[15],c};y.multiplyTransformation=function(n,o,c){f.typeOf.object("left",n),f.typeOf.object("right",o),f.typeOf.object("result",c);var v=n[0],e=n[1],p=n[2],b=n[4],w=n[5],d=n[6],j=n[8],R=n[9],M=n[10],E=n[12],C=n[13],h=n[14],z=o[0],T=o[1],F=o[2],W=o[4],N=o[5],m=o[6],q=o[8],V=o[9],L=o[10],P=o[12],B=o[13],Y=o[14],Z=v*z+b*T+j*F,X=e*z+w*T+R*F,D=p*z+d*T+M*F,_=v*W+b*N+j*m,H=e*W+w*N+R*m,G=p*W+d*N+M*m,K=v*q+b*V+j*L,I=e*q+w*V+R*L,l=p*q+d*V+M*L,n0=v*P+b*B+j*Y+E,o0=e*P+w*B+R*Y+C,c0=p*P+d*B+M*Y+h;return c[0]=Z,c[1]=X,c[2]=D,c[3]=0,c[4]=_,c[5]=H,c[6]=G,c[7]=0,c[8]=K,c[9]=I,c[10]=l,c[11]=0,c[12]=n0,c[13]=o0,c[14]=c0,c[15]=1,c};y.multiplyByMatrix3=function(n,o,c){f.typeOf.object("matrix",n),f.typeOf.object("rotation",o),f.typeOf.object("result",c);var v=n[0],e=n[1],p=n[2],b=n[4],w=n[5],d=n[6],j=n[8],R=n[9],M=n[10],E=o[0],C=o[1],h=o[2],z=o[3],T=o[4],F=o[5],W=o[6],N=o[7],m=o[8],q=v*E+b*C+j*h,V=e*E+w*C+R*h,L=p*E+d*C+M*h,P=v*z+b*T+j*F,B=e*z+w*T+R*F,Y=p*z+d*T+M*F,Z=v*W+b*N+j*m,X=e*W+w*N+R*m,D=p*W+d*N+M*m;return c[0]=q,c[1]=V,c[2]=L,c[3]=0,c[4]=P,c[5]=B,c[6]=Y,c[7]=0,c[8]=Z,c[9]=X,c[10]=D,c[11]=0,c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15],c};y.multiplyByTranslation=function(n,o,c){f.typeOf.object("matrix",n),f.typeOf.object("translation",o),f.typeOf.object("result",c);var v=o.x,e=o.y,p=o.z,b=v*n[0]+e*n[4]+p*n[8]+n[12],w=v*n[1]+e*n[5]+p*n[9]+n[13],d=v*n[2]+e*n[6]+p*n[10]+n[14];return c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8],c[9]=n[9],c[10]=n[10],c[11]=n[11],c[12]=b,c[13]=w,c[14]=d,c[15]=n[15],c};var w0=new S;y.multiplyByUniformScale=function(n,o,c){return f.typeOf.object("matrix",n),f.typeOf.number("scale",o),f.typeOf.object("result",c),w0.x=o,w0.y=o,w0.z=o,y.multiplyByScale(n,w0,c)};y.multiplyByScale=function(n,o,c){f.typeOf.object("matrix",n),f.typeOf.object("scale",o),f.typeOf.object("result",c);var v=o.x,e=o.y,p=o.z;return v===1&&e===1&&p===1?y.clone(n,c):(c[0]=v*n[0],c[1]=v*n[1],c[2]=v*n[2],c[3]=0,c[4]=e*n[4],c[5]=e*n[5],c[6]=e*n[6],c[7]=0,c[8]=p*n[8],c[9]=p*n[9],c[10]=p*n[10],c[11]=0,c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=1,c)};y.multiplyByVector=function(n,o,c){f.typeOf.object("matrix",n),f.typeOf.object("cartesian",o),f.typeOf.object("result",c);var v=o.x,e=o.y,p=o.z,b=o.w,w=n[0]*v+n[4]*e+n[8]*p+n[12]*b,d=n[1]*v+n[5]*e+n[9]*p+n[13]*b,j=n[2]*v+n[6]*e+n[10]*p+n[14]*b,R=n[3]*v+n[7]*e+n[11]*p+n[15]*b;return c.x=w,c.y=d,c.z=j,c.w=R,c};y.multiplyByPointAsVector=function(n,o,c){f.typeOf.object("matrix",n),f.typeOf.object("cartesian",o),f.typeOf.object("result",c);var v=o.x,e=o.y,p=o.z,b=n[0]*v+n[4]*e+n[8]*p,w=n[1]*v+n[5]*e+n[9]*p,d=n[2]*v+n[6]*e+n[10]*p;return c.x=b,c.y=w,c.z=d,c};y.multiplyByPoint=function(n,o,c){f.typeOf.object("matrix",n),f.typeOf.object("cartesian",o),f.typeOf.object("result",c);var v=o.x,e=o.y,p=o.z,b=n[0]*v+n[4]*e+n[8]*p+n[12],w=n[1]*v+n[5]*e+n[9]*p+n[13],d=n[2]*v+n[6]*e+n[10]*p+n[14];return c.x=b,c.y=w,c.z=d,c};y.multiplyByScalar=function(n,o,c){return f.typeOf.object("matrix",n),f.typeOf.number("scalar",o),f.typeOf.object("result",c),c[0]=n[0]*o,c[1]=n[1]*o,c[2]=n[2]*o,c[3]=n[3]*o,c[4]=n[4]*o,c[5]=n[5]*o,c[6]=n[6]*o,c[7]=n[7]*o,c[8]=n[8]*o,c[9]=n[9]*o,c[10]=n[10]*o,c[11]=n[11]*o,c[12]=n[12]*o,c[13]=n[13]*o,c[14]=n[14]*o,c[15]=n[15]*o,c};y.multiplyByPlane=function(n,o,c){f.typeOf.object("matrix",n),f.typeOf.object("plane",o),f.typeOf.object("result",c);var v=new y,e=new y;y.inverse(n,v),y.transpose(v,e);var p=new v0(o.normal.x,o.normal.y,o.normal.z,o.distance);y.multiplyByVector(e,p,p),c.normal.x=p.x,c.normal.y=p.y,c.normal.z=p.z;var b=S.magnitude(c.normal);return S.normalize(c.normal,c.normal),c.distance=p.w/b,c};y.negate=function(n,o){return f.typeOf.object("matrix",n),f.typeOf.object("result",o),o[0]=-n[0],o[1]=-n[1],o[2]=-n[2],o[3]=-n[3],o[4]=-n[4],o[5]=-n[5],o[6]=-n[6],o[7]=-n[7],o[8]=-n[8],o[9]=-n[9],o[10]=-n[10],o[11]=-n[11],o[12]=-n[12],o[13]=-n[13],o[14]=-n[14],o[15]=-n[15],o};y.transpose=function(n,o){f.typeOf.object("matrix",n),f.typeOf.object("result",o);var c=n[1],v=n[2],e=n[3],p=n[6],b=n[7],w=n[11];return o[0]=n[0],o[1]=n[4],o[2]=n[8],o[3]=n[12],o[4]=c,o[5]=n[5],o[6]=n[9],o[7]=n[13],o[8]=v,o[9]=p,o[10]=n[10],o[11]=n[14],o[12]=e,o[13]=b,o[14]=w,o[15]=n[15],o};y.abs=function(n,o){return f.typeOf.object("matrix",n),f.typeOf.object("result",o),o[0]=Math.abs(n[0]),o[1]=Math.abs(n[1]),o[2]=Math.abs(n[2]),o[3]=Math.abs(n[3]),o[4]=Math.abs(n[4]),o[5]=Math.abs(n[5]),o[6]=Math.abs(n[6]),o[7]=Math.abs(n[7]),o[8]=Math.abs(n[8]),o[9]=Math.abs(n[9]),o[10]=Math.abs(n[10]),o[11]=Math.abs(n[11]),o[12]=Math.abs(n[12]),o[13]=Math.abs(n[13]),o[14]=Math.abs(n[14]),o[15]=Math.abs(n[15]),o};y.equals=function(n,o){return n===o||a(n)&&a(o)&&n[12]===o[12]&&n[13]===o[13]&&n[14]===o[14]&&n[0]===o[0]&&n[1]===o[1]&&n[2]===o[2]&&n[4]===o[4]&&n[5]===o[5]&&n[6]===o[6]&&n[8]===o[8]&&n[9]===o[9]&&n[10]===o[10]&&n[3]===o[3]&&n[7]===o[7]&&n[11]===o[11]&&n[15]===o[15]};y.equalsEpsilon=function(n,o,c){return f.typeOf.number("epsilon",c),n===o||a(n)&&a(o)&&Math.abs(n[0]-o[0])<=c&&Math.abs(n[1]-o[1])<=c&&Math.abs(n[2]-o[2])<=c&&Math.abs(n[3]-o[3])<=c&&Math.abs(n[4]-o[4])<=c&&Math.abs(n[5]-o[5])<=c&&Math.abs(n[6]-o[6])<=c&&Math.abs(n[7]-o[7])<=c&&Math.abs(n[8]-o[8])<=c&&Math.abs(n[9]-o[9])<=c&&Math.abs(n[10]-o[10])<=c&&Math.abs(n[11]-o[11])<=c&&Math.abs(n[12]-o[12])<=c&&Math.abs(n[13]-o[13])<=c&&Math.abs(n[14]-o[14])<=c&&Math.abs(n[15]-o[15])<=c};y.getTranslation=function(n,o){return f.typeOf.object("matrix",n),f.typeOf.object("result",o),o.x=n[12],o.y=n[13],o.z=n[14],o};y.getMatrix3=function(n,o){return f.typeOf.object("matrix",n),f.typeOf.object("result",o),o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[4],o[4]=n[5],o[5]=n[6],o[6]=n[8],o[7]=n[9],o[8]=n[10],o};y.getRotation=function(n,o){return f.typeOf.object("matrix",n),f.typeOf.object("result",o),o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[4],o[4]=n[5],o[5]=n[6],o[6]=n[8],o[7]=n[9],o[8]=n[10],o};var bn=new f0,yn=new f0,On=new v0,wn=new v0(0,0,0,1);y.inverse=function(n,o){f.typeOf.object("matrix",n),f.typeOf.object("result",o);var c=n[0],v=n[4],e=n[8],p=n[12],b=n[1],w=n[5],d=n[9],j=n[13],R=n[2],M=n[6],E=n[10],C=n[14],h=n[3],z=n[7],T=n[11],F=n[15],W=E*F,N=C*T,m=M*F,q=C*z,V=M*T,L=E*z,P=R*F,B=C*h,Y=R*T,Z=E*h,X=R*z,D=M*h,_=W*w+q*d+V*j-(N*w+m*d+L*j),H=N*b+P*d+Z*j-(W*b+B*d+Y*j),G=m*b+B*w+X*j-(q*b+P*w+D*j),K=L*b+Y*w+D*d-(V*b+Z*w+X*d),I=N*v+m*e+L*p-(W*v+q*e+V*p),l=W*c+B*e+Y*p-(N*c+P*e+Z*p),n0=q*c+P*v+D*p-(m*c+B*v+X*p),o0=V*c+Z*v+X*e-(L*c+Y*v+D*e);W=e*j,N=p*d,m=v*j,q=p*w,V=v*d,L=e*w,P=c*j,B=p*b,Y=c*d,Z=e*b,X=c*w,D=v*b;var c0=W*z+q*T+V*F-(N*z+m*T+L*F),C0=N*h+P*T+Z*F-(W*h+B*T+Y*F),A0=m*h+B*z+X*F-(q*h+P*z+D*F),T0=L*h+Y*z+D*T-(V*h+Z*z+X*T),S0=m*E+L*C+N*M-(V*C+W*M+q*E),F0=Y*C+W*R+B*E-(P*E+Z*C+N*R),W0=P*M+D*C+q*R-(X*C+m*R+B*M),N0=X*E+V*R+Z*M-(Y*M+D*E+L*R),k=c*_+v*H+e*G+p*K;if(Math.abs(k)<u.EPSILON21){if(f0.equalsEpsilon(y.getRotation(n,bn),yn,u.EPSILON5)&&v0.equals(y.getRow(n,3,On),wn))return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=0,o[12]=-n[12],o[13]=-n[13],o[14]=-n[14],o[15]=1,o;throw new J0("matrix is not invertible because its determinate is zero.")}return k=1/k,o[0]=_*k,o[1]=H*k,o[2]=G*k,o[3]=K*k,o[4]=I*k,o[5]=l*k,o[6]=n0*k,o[7]=o0*k,o[8]=c0*k,o[9]=C0*k,o[10]=A0*k,o[11]=T0*k,o[12]=S0*k,o[13]=F0*k,o[14]=W0*k,o[15]=N0*k,o};y.inverseTransformation=function(n,o){f.typeOf.object("matrix",n),f.typeOf.object("result",o);var c=n[0],v=n[1],e=n[2],p=n[4],b=n[5],w=n[6],d=n[8],j=n[9],R=n[10],M=n[12],E=n[13],C=n[14],h=-c*M-v*E-e*C,z=-p*M-b*E-w*C,T=-d*M-j*E-R*C;return o[0]=c,o[1]=p,o[2]=d,o[3]=0,o[4]=v,o[5]=b,o[6]=j,o[7]=0,o[8]=e,o[9]=w,o[10]=R,o[11]=0,o[12]=h,o[13]=z,o[14]=T,o[15]=1,o};y.IDENTITY=Object.freeze(new y(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1));y.ZERO=Object.freeze(new y(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0));y.COLUMN0ROW0=0;y.COLUMN0ROW1=1;y.COLUMN0ROW2=2;y.COLUMN0ROW3=3;y.COLUMN1ROW0=4;y.COLUMN1ROW1=5;y.COLUMN1ROW2=6;y.COLUMN1ROW3=7;y.COLUMN2ROW0=8;y.COLUMN2ROW1=9;y.COLUMN2ROW2=10;y.COLUMN2ROW3=11;y.COLUMN3ROW0=12;y.COLUMN3ROW1=13;y.COLUMN3ROW2=14;y.COLUMN3ROW3=15;Object.defineProperties(y.prototype,{length:{get:function(){return y.packedLength}}});y.prototype.clone=function(n){return y.clone(this,n)};y.prototype.equals=function(n){return y.equals(this,n)};y.equalsArray=function(n,o,c){return n[0]===o[c]&&n[1]===o[c+1]&&n[2]===o[c+2]&&n[3]===o[c+3]&&n[4]===o[c+4]&&n[5]===o[c+5]&&n[6]===o[c+6]&&n[7]===o[c+7]&&n[8]===o[c+8]&&n[9]===o[c+9]&&n[10]===o[c+10]&&n[11]===o[c+11]&&n[12]===o[c+12]&&n[13]===o[c+13]&&n[14]===o[c+14]&&n[15]===o[c+15]};y.prototype.equalsEpsilon=function(n,o){return y.equalsEpsilon(this,n,o)};y.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+`)
(`+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+`)
(`+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+`)
(`+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"};var Jn=y;var g,U={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},Q={};Object.defineProperties(Q,{element:{get:function(){if(!!Q.supportsFullscreen())return document[U.fullscreenElement]}},changeEventName:{get:function(){if(!!Q.supportsFullscreen())return U.fullscreenchange}},errorEventName:{get:function(){if(!!Q.supportsFullscreen())return U.fullscreenerror}},enabled:{get:function(){if(!!Q.supportsFullscreen())return document[U.fullscreenEnabled]}},fullscreen:{get:function(){if(!!Q.supportsFullscreen())return Q.element!==null}}});Q.supportsFullscreen=function(){if(a(g))return g;g=!1;var n=document.body;if(typeof n.requestFullscreen=="function")return U.requestFullscreen="requestFullscreen",U.exitFullscreen="exitFullscreen",U.fullscreenEnabled="fullscreenEnabled",U.fullscreenElement="fullscreenElement",U.fullscreenchange="fullscreenchange",U.fullscreenerror="fullscreenerror",g=!0,g;for(var o=["webkit","moz","o","ms","khtml"],c,v=0,e=o.length;v<e;++v){var p=o[v];c=p+"RequestFullscreen",typeof n[c]=="function"?(U.requestFullscreen=c,g=!0):(c=p+"RequestFullScreen",typeof n[c]=="function"&&(U.requestFullscreen=c,g=!0)),c=p+"ExitFullscreen",typeof document[c]=="function"?U.exitFullscreen=c:(c=p+"CancelFullScreen",typeof document[c]=="function"&&(U.exitFullscreen=c)),c=p+"FullscreenEnabled",document[c]!==void 0?U.fullscreenEnabled=c:(c=p+"FullScreenEnabled",document[c]!==void 0&&(U.fullscreenEnabled=c)),c=p+"FullscreenElement",document[c]!==void 0?U.fullscreenElement=c:(c=p+"FullScreenElement",document[c]!==void 0&&(U.fullscreenElement=c)),c=p+"fullscreenchange",document["on"+c]!==void 0&&(p==="ms"&&(c="MSFullscreenChange"),U.fullscreenchange=c),c=p+"fullscreenerror",document["on"+c]!==void 0&&(p==="ms"&&(c="MSFullscreenError"),U.fullscreenerror=c)}return g};Q.requestFullscreen=function(n,o){!Q.supportsFullscreen()||n[U.requestFullscreen]({vrDisplay:o})};Q.exitFullscreen=function(){!Q.supportsFullscreen()||document[U.exitFullscreen]()};Q._names=U;var K0=Q;var J;typeof navigator<"u"?J=navigator:J={};function x(n){for(var o=n.split("."),c=0,v=o.length;c<v;++c)o[c]=parseInt(o[c],10);return o}var d0,$0;function Z0(){if(!a(d0)&&(d0=!1,!b0())){var n=/ Chrome\/([\.0-9]+)/.exec(J.userAgent);n!==null&&(d0=!0,$0=x(n[1]))}return d0}function dn(){return Z0()&&$0}var j0,I0;function g0(){if(!a(j0)&&(j0=!1,!Z0()&&!b0()&&/ Safari\/[\.0-9]+/.test(J.userAgent))){var n=/ Version\/([\.0-9]+)/.exec(J.userAgent);n!==null&&(j0=!0,I0=x(n[1]))}return j0}function jn(){return g0()&&I0}var R0,k0;function i0(){if(!a(R0)){R0=!1;var n=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(J.userAgent);n!==null&&(R0=!0,k0=x(n[1]),k0.isNightly=!!n[2])}return R0}function Rn(){return i0()&&k0}var p0,Y0;function u0(){if(!a(p0)){p0=!1;var n;J.appName==="Microsoft Internet Explorer"?(n=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(J.userAgent),n!==null&&(p0=!0,Y0=x(n[1]))):J.appName==="Netscape"&&(n=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(J.userAgent),n!==null&&(p0=!0,Y0=x(n[1])))}return p0}function Mn(){return u0()&&Y0}var M0,r0;function b0(){if(!a(M0)){M0=!1;var n=/ Edge\/([\.0-9]+)/.exec(J.userAgent);n!==null&&(M0=!0,r0=x(n[1]))}return M0}function an(){return b0()&&r0}var a0,X0;function z0(){if(!a(a0)){a0=!1;var n=/Firefox\/([\.0-9]+)/.exec(J.userAgent);n!==null&&(a0=!0,X0=x(n[1]))}return a0}var L0;function En(){return a(L0)||(L0=/Windows/i.test(J.appVersion)),L0}function hn(){return z0()&&X0}var P0;function zn(){return a(P0)||(P0=typeof process=="object"&&Object.prototype.toString.call(process)==="[object process]"),P0}var B0;function Cn(){return a(B0)||(B0=!z0()&&typeof PointerEvent<"u"&&(!a(J.pointerEnabled)||J.pointerEnabled)),B0}var x0,E0;function s0(){if(!a(E0)){var n=document.createElement("canvas");n.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");var o=n.style.imageRendering;E0=a(o)&&o!=="",E0&&(x0=o)}return E0}function An(){return s0()?x0:void 0}var r,i;function t0(){if(a(i))return i.promise;i=Q0.defer(),b0()&&(r=!1,i.resolve(r));var n=new Image;return n.onload=function(){r=n.width>0&&n.height>0,i.resolve(r)},n.onerror=function(){r=!1,i.resolve(r)},n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",i.promise}function Tn(){return a(i)||t0(),r}var h0=[];typeof ArrayBuffer<"u"&&(h0.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),typeof Uint8ClampedArray<"u"&&h0.push(Uint8ClampedArray),typeof CanvasPixelArray<"u"&&h0.push(CanvasPixelArray));var $={isChrome:Z0,chromeVersion:dn,isSafari:g0,safariVersion:jn,isWebkit:i0,webkitVersion:Rn,isInternetExplorer:u0,internetExplorerVersion:Mn,isEdge:b0,edgeVersion:an,isFirefox:z0,firefoxVersion:hn,isWindows:En,isNodeJs:zn,hardwareConcurrency:A(J.hardwareConcurrency,3),supportsPointerEvents:Cn,supportsImageRenderingPixelated:s0,supportsWebP:t0,supportsWebPSync:Tn,imageRenderingValue:An,typedArrayTypes:h0,isPCBroswer:Sn};$.supportsFullscreen=function(){return K0.supportsFullscreen()};$.supportsTypedArrays=function(){return typeof ArrayBuffer<"u"};$.supportsWebWorkers=function(){return typeof Worker<"u"};$.supportsWebAssembly=function(){return typeof WebAssembly<"u"&&!$.isEdge()};$.supportsOffscreenCanvas=function(){return typeof OffscreenCanvas<"u"&&!$.isEdge()};$.supportsEsmWebWorkers=function(){return!z0()||parseInt(X0)>=114};function Sn(){var n=window.navigator.userAgent.toLowerCase(),o=n.match(/ipad/i)=="ipad",c=n.match(/iphone os/i)=="iphone os",v=n.match(/midp/i)=="midp",e=n.match(/ucweb/i)=="ucweb",p=n.match(/android/i)=="android",b=n.match(/windows ce/i)=="windows ce",w=n.match(/windows mobile/i)=="windows mobile";return!(o||c||v||e||p||b||w)}var gn=$;export{f0 as a,Jn as b,gn as c};
